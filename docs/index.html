<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ts-data-forge</title><meta name="description" content="Documentation for ts-data-forge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><link rel="stylesheet" href="assets/typedoc-github-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">ts-data-forge</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"></div><div class="tsd-panel tsd-typography"><h1 id="ts-data-forge" class="tsd-anchor-link">ts-data-forge<a href="#ts-data-forge" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p><a href="https://www.npmjs.com/package/ts-data-forge"><img src="https://img.shields.io/npm/v/ts-data-forge.svg" alt="npm version"></a>
<a href="https://www.npmjs.com/package/ts-data-forge"><img src="https://img.shields.io/npm/dm/ts-data-forge.svg" alt="npm downloads"></a>
<a href="./LICENSE"><img src="https://img.shields.io/npm/l/ts-data-forge.svg" alt="License"></a>
<a href="https://codecov.io/gh/noshiro-pf/ts-data-forge"><img src="https://codecov.io/gh/noshiro-pf/ts-data-forge/branch/main/graph/badge.svg?token=69TA40HACZ" alt="codecov"></a></p>
<p><strong>ts-data-forge</strong> is a TypeScript utility library that provides type-safe functional programming utilities with zero runtime dependencies. It aims to enhance development robustness, maintainability, and correctness by leveraging TypeScript's powerful type system.</p>
<h2 id="perfect-companion-to-ts-type-forge" class="tsd-anchor-link">Perfect Companion to ts-type-forge<a href="#perfect-companion-to-ts-type-forge" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p><strong>ts-data-forge</strong> is designed as the ideal runtime companion to <a href="https://github.com/noshiro-pf/ts-type-forge"><strong>ts-type-forge</strong></a>, a powerful type utility library. While ts-type-forge provides compile-time type utilities for advanced TypeScript type manipulation, ts-data-forge complements it with runtime utilities that maintain the same level of type safety.</p>
<p>Together, they form a complete TypeScript development toolkit:</p>
<ul>
<li><strong>ts-type-forge</strong>: Compile-time type utilities (type manipulation, type inference, advanced type patterns)</li>
<li><strong>ts-data-forge</strong>: Runtime utilities with strong type safety (type guards, branded types, functional programming utilities)</li>
</ul>
<p>This synergy enables you to build fully type-safe applications from compile-time to runtime, ensuring type correctness throughout your entire codebase.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This library offers a range of utilities, including:</p>
<ul>
<li><strong>Compile-Time Type Checking</strong>: Assert type relationships at compile time with <code>expectType</code>.</li>
<li><strong>Immutable Collections</strong>: Type-safe and immutable map (<code>IMap</code>), set (<code>ISet</code>) implementations.</li>
<li><strong>Array Utilities</strong>: A comprehensive suite of functions for array manipulation, creation, transformation, and querying.</li>
<li><strong>Number Utilities</strong>: Safe and convenient functions for numerical operations, including branded types and range checking.</li>
<li><strong>Object Utilities</strong>: Helpers for working with objects, such as shallow equality checks.</li>
<li><strong>Functional Programming Tools</strong>: Utilities like <code>pipe</code>, <code>Optional</code>, and <code>Result</code> to support functional programming patterns.</li>
<li><strong>Type Guards</strong>: A collection of type guard functions to narrow down types safely.</li>
<li><strong>JSON Handling</strong>: Type-safe JSON parsing and stringification.</li>
<li><strong>And more</strong>: Including memoization, casting utilities, and other helpful tools.</li>
</ul>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li>API reference: <a href="https://noshiro-pf.github.io/ts-data-forge/">https://noshiro-pf.github.io/ts-data-forge/</a></li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">ts-data-forge</span>
</code><button type="button">Copy</button></pre>

<p>Or with other package managers:</p>
<pre><code class="bash"><span class="hl-3"># Yarn</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">ts-data-forge</span><br/><br/><span class="hl-3"># pnpm</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">ts-data-forge</span>
</code><button type="button">Copy</button></pre>

<h2 id="typescript-configuration" class="tsd-anchor-link">TypeScript Configuration<a href="#typescript-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>ts-data-forge works best with strict TypeScript settings:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;strict&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-3">// important</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noUncheckedIndexedAccess&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-3">// important</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noPropertyAccessFromIndexSignature&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-3">// important</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noFallthroughCasesInSwitch&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noImplicitOverride&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noImplicitReturns&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noUnusedLocals&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;noUnusedParameters&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;allowUnreachableCode&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;allowUnusedLabels&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">&quot;exactOptionalPropertyTypes&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="core-modules" class="tsd-anchor-link">Core Modules<a href="#core-modules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="üéØ-functional-programming" class="tsd-anchor-link">üéØ <a href="./documents/functional.md">Functional Programming</a><a href="#üéØ-functional-programming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Essential FP utilities for cleaner, more reliable code.</p>
<ul>
<li><strong>Optional</strong> - Type-safe null handling</li>
<li><strong>Result</strong> - Error handling without exceptions</li>
<li><strong>Pipe</strong> - Function composition utilities</li>
<li><strong>match</strong> - Pattern matching for TypeScript</li>
</ul>
<h3 id="üõ°Ô∏è-type-guards" class="tsd-anchor-link">üõ°Ô∏è Type Guards<a href="#üõ°Ô∏è-type-guards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Runtime type checking with TypeScript integration.</p>
<ul>
<li><strong>Type Checks</strong> - <code>isString</code>, <code>isNumber</code>, <code>isNonNullish</code>, etc.</li>
<li><strong>Object Guards</strong> - <code>isRecord</code>, <code>isNonNullObject</code>, <code>hasKey</code></li>
<li><strong>Utility Guards</strong> - <code>isNonEmptyString</code>, <code>isPrimitive</code></li>
</ul>
<h3 id="üî¢-number-utilities" class="tsd-anchor-link">üî¢ Number Utilities<a href="#üî¢-number-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Branded number types and safe arithmetic operations.</p>
<ul>
<li><strong>Branded Types</strong> - <code>Int</code>, <code>Uint</code>, <code>SafeInt</code>, <code>FiniteNumber</code></li>
<li><strong>Range Types</strong> - <code>Int16</code>, <code>Uint32</code>, <code>PositiveInt</code>, etc.</li>
<li><strong>Math Utils</strong> - Type-safe arithmetic operations</li>
</ul>
<h3 id="üîß-array-operations" class="tsd-anchor-link">üîß Array Operations<a href="#üîß-array-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Type-safe array and tuple utilities with functional programming patterns.</p>
<ul>
<li><strong>Array Utils</strong> - Comprehensive array manipulation functions</li>
<li><strong>Tuple Utils</strong> - Type-safe tuple operations with compile-time guarantees</li>
</ul>
<h3 id="üì¶-collections" class="tsd-anchor-link">üì¶ <a href="./documents/collections.md">Collections</a><a href="#üì¶-collections" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Immutable data structures for safer state management.</p>
<ul>
<li><strong>IMap</strong> - Immutable Map implementation</li>
<li><strong>ISet</strong> - Immutable Set implementation</li>
</ul>
<p>And mutable Queue/Stack implementation</p>
<ul>
<li><strong>Queue</strong> - FIFO queue with O(1) operations</li>
<li><strong>Stack</strong> - LIFO stack implementation</li>
</ul>
<h3 id="üîç-other-utilities" class="tsd-anchor-link">üîç Other Utilities<a href="#üîç-other-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Additional helpers for common programming tasks.</p>
<ul>
<li><strong>Type Casting</strong> - <code>castMutable</code>, <code>castReadonly</code></li>
<li><strong>Utilities</strong> - <code>memoizeFunction</code>, <code>mapNullable</code>, <code>unknownToString</code></li>
<li><strong>Conditionals</strong> - <code>ifThen</code> for conditional operations</li>
</ul>
<h2 id="usage-examples" class="tsd-anchor-link">Usage Examples<a href="#usage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Here are some examples of how to use utilities from <code>ts-data-forge</code>:</p>
<h3 id="1-compile-time-type-assertions-with" class="tsd-anchor-link">1. Compile-Time Type Assertions with <code>expectType</code><a href="#1-compile-time-type-assertions-with" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>expectType</code> utility allows you to make assertions about types at compile time. This is useful for ensuring type correctness in complex type manipulations or when refactoring.</p>
<pre><code class="tsx"><span class="hl-3">/* eslint-disable vitest/expect-expect */</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">expectType</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">User</span><span class="hl-1"> = { </span><span class="hl-7">id</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-7">name</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1"> };</span><br/><br/><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">Admin</span><span class="hl-1"> = { </span><span class="hl-7">id</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">; </span><span class="hl-7">name</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-7">role</span><span class="hl-1">: </span><span class="hl-2">&#39;admin&#39;</span><span class="hl-1"> };</span><br/><br/><span class="hl-3">// Assert that Admin extends User</span><br/><span class="hl-0">expectType</span><span class="hl-1">&lt;</span><span class="hl-8">Admin</span><span class="hl-1">, </span><span class="hl-8">User</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;&lt;=&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Assert that User does not extend Admin</span><br/><span class="hl-0">expectType</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">, </span><span class="hl-8">Admin</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;!&lt;=&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Assert exact type equality</span><br/><span class="hl-0">expectType</span><span class="hl-1">&lt;{ </span><span class="hl-7">x</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }, { </span><span class="hl-7">x</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> }&gt;(</span><span class="hl-2">&#39;=&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// The following would cause a compile-time error:</span><br/><span class="hl-3">// expectType&lt;User, Admin&gt;(&quot;=&quot;); // Error: Type &#39;User&#39; is not strictly equal to type &#39;Admin&#39;.</span><br/><br/><span class="hl-3">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span><br/><span class="hl-0">expectType</span><span class="hl-1">&lt;</span><span class="hl-8">User</span><span class="hl-1">, </span><span class="hl-8">any</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;!=&#39;</span><span class="hl-1">); </span><span class="hl-3">// Error: Comparisons with `any` are also strictly checked.</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-functional-programming-with-and" class="tsd-anchor-link">2. Functional Programming with <code>Optional</code>, <code>Result</code>, <code>pipe</code>, and <code>match</code><a href="#2-functional-programming-with-and" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Handle nullable values and error-prone operations safely.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">match</span><span class="hl-1">, </span><span class="hl-7">Optional</span><span class="hl-1">, </span><span class="hl-7">pipe</span><span class="hl-1">, </span><span class="hl-7">Result</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Optional for nullable values</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">maybeValue</span><span class="hl-1"> = </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">doubled</span><span class="hl-1"> = </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-7">maybeValue</span><span class="hl-1">, (</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1"> * </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">unwrapOr</span><span class="hl-1">(</span><span class="hl-7">doubled</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">) === </span><span class="hl-10">84</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Result for error handling</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">success</span><span class="hl-1"> = </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mapped</span><span class="hl-1"> = </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-7">success</span><span class="hl-1">, (</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1"> * </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">mapped</span><span class="hl-1">, </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(</span><span class="hl-10">84</span><span class="hl-1">));</span><br/><br/><span class="hl-3">// Advanced pipe usage with Optional</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">processNumber</span><span class="hl-1"> = (</span><span class="hl-7">input</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">): </span><span class="hl-8">Optional</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">&gt; </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-7">input</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1"> * </span><span class="hl-10">2</span><span class="hl-1">) </span><span class="hl-3">// Regular transformation</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1"> + </span><span class="hl-10">10</span><span class="hl-1">) </span><span class="hl-3">// Chain transformations</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> (</span><span class="hl-7">x</span><span class="hl-1"> &gt; </span><span class="hl-10">50</span><span class="hl-1"> ? </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">(</span><span class="hl-7">x</span><span class="hl-1"> / </span><span class="hl-10">2</span><span class="hl-1">) : </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-7">none</span><span class="hl-1">)) </span><span class="hl-3">// Optional&lt;Optional&lt;number&gt;&gt;</span><br/><span class="hl-1">        .</span><span class="hl-0">mapOptional</span><span class="hl-1">((</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1">).</span><span class="hl-7">value</span><span class="hl-1">; </span><span class="hl-3">// Flatten to Optional&lt;number&gt;</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-0">processNumber</span><span class="hl-1">(</span><span class="hl-10">30</span><span class="hl-1">), </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">(</span><span class="hl-10">35</span><span class="hl-1">));</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-0">processNumber</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">), </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-7">none</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Using pipe with Result operations</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">divideAndFormat</span><span class="hl-1"> = (</span><br/><span class="hl-1">    </span><span class="hl-7">numerator</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">denominator</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">,</span><br/><span class="hl-1">): </span><span class="hl-8">Result</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">&gt; </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-7">denominator</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">d</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> (</span><span class="hl-7">d</span><span class="hl-1"> !== </span><span class="hl-10">0</span><span class="hl-1"> ? </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(</span><span class="hl-7">d</span><span class="hl-1">) : </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">err</span><span class="hl-1">(</span><span class="hl-2">&#39;Division by zero&#39;</span><span class="hl-1">)))</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">result</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">, (</span><span class="hl-7">d</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">numerator</span><span class="hl-1"> / </span><span class="hl-7">d</span><span class="hl-1">))</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">result</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">            </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">, (</span><span class="hl-7">value</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-2">`Result: </span><span class="hl-5">${</span><span class="hl-7">value</span><span class="hl-11">.</span><span class="hl-0">toFixed</span><span class="hl-11">(</span><span class="hl-10">2</span><span class="hl-11">)</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">),</span><br/><span class="hl-1">        )</span><br/><span class="hl-1">        .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-7">result</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">mapErr</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">, (</span><span class="hl-7">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-2">`Error: </span><span class="hl-5">${</span><span class="hl-7">error</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">))</span><br/><span class="hl-1">        .</span><span class="hl-7">value</span><span class="hl-1">;</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-0">divideAndFormat</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">), </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(</span><span class="hl-2">&#39;Result: 5.00&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">divideAndFormat</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">err</span><span class="hl-1">(</span><span class="hl-2">&#39;Error: Division by zero&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-3">// Pattern matching with match</span><br/><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">Status</span><span class="hl-1"> = </span><span class="hl-2">&#39;loading&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;success&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">handleStatus</span><span class="hl-1"> = (</span><span class="hl-7">status</span><span class="hl-1">: </span><span class="hl-8">Status</span><span class="hl-1">, </span><span class="hl-7">data</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">string</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">match</span><span class="hl-1">(</span><span class="hl-7">status</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-7">loading:</span><span class="hl-1"> </span><span class="hl-2">&#39;Please wait...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">success:</span><span class="hl-1"> </span><span class="hl-2">`Data: </span><span class="hl-5">${</span><span class="hl-7">data</span><span class="hl-11"> </span><span class="hl-1">??</span><span class="hl-11"> </span><span class="hl-2">&#39;No data&#39;</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-7">error:</span><span class="hl-1"> </span><span class="hl-2">&#39;An error occurred&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">handleStatus</span><span class="hl-1">(</span><span class="hl-2">&#39;loading&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;Please wait...&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">handleStatus</span><span class="hl-1">(</span><span class="hl-2">&#39;success&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;Data: Hello&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">handleStatus</span><span class="hl-1">(</span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">) === </span><span class="hl-2">&#39;An error occurred&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Pattern matching with Result</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">processResult</span><span class="hl-1"> = (</span><span class="hl-7">result</span><span class="hl-1">: </span><span class="hl-8">Result</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">&gt;): </span><span class="hl-8">string</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">isOk</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1">) ? </span><span class="hl-2">`Success: </span><span class="hl-5">${</span><span class="hl-7">result</span><span class="hl-11">.</span><span class="hl-7">value</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1"> : </span><span class="hl-2">`Error: </span><span class="hl-5">${</span><span class="hl-7">result</span><span class="hl-11">.</span><span class="hl-7">value</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">processResult</span><span class="hl-1">(</span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">ok</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">)) === </span><span class="hl-2">&#39;Success: 42&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">processResult</span><span class="hl-1">(</span><span class="hl-7">Result</span><span class="hl-1">.</span><span class="hl-0">err</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed&#39;</span><span class="hl-1">)) === </span><span class="hl-2">&#39;Error: Failed&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-number-utilities-with-and-branded-number-types" class="tsd-anchor-link">3. Number Utilities with <code>Num</code> and Branded Number Types<a href="#3-number-utilities-with-and-branded-number-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>Num</code> object provides safe and convenient functions for numerical operations.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Num</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Basic conversions</span><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-2">&#39;123&#39;</span><span class="hl-1">) === </span><span class="hl-10">123</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">Number</span><span class="hl-1">.</span><span class="hl-0">isNaN</span><span class="hl-1">(</span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-2">&#39;abc&#39;</span><span class="hl-1">)));</span><br/><br/><span class="hl-3">// Range checking</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">inRange</span><span class="hl-1"> = </span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">isInRange</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">10</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">inRange</span><span class="hl-1">(</span><span class="hl-10">5</span><span class="hl-1">));</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">inRange</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">)); </span><span class="hl-3">// (inclusive lower bound)</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isFalse</span><span class="hl-1">(</span><span class="hl-0">inRange</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">)); </span><span class="hl-3">// (exclusive upper bound)</span><br/><br/><span class="hl-3">// Clamping values</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">clamp</span><span class="hl-1"> = </span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">clamp</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">100</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">clamp</span><span class="hl-1">(</span><span class="hl-10">150</span><span class="hl-1">) === </span><span class="hl-10">100</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">clamp</span><span class="hl-1">(-</span><span class="hl-10">10</span><span class="hl-1">) === </span><span class="hl-10">0</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Rounding utilities</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">round2</span><span class="hl-1"> = </span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">round</span><span class="hl-1">(</span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">round2</span><span class="hl-1">(</span><span class="hl-10">3.141_59</span><span class="hl-1">) === </span><span class="hl-10">3.14</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">roundAt</span><span class="hl-1">(</span><span class="hl-10">3.141_59</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">) === </span><span class="hl-10">3.142</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">roundToInt</span><span class="hl-1">(</span><span class="hl-10">3.7</span><span class="hl-1">) === </span><span class="hl-10">4</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Type guards</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">value</span><span class="hl-1"> = </span><span class="hl-10">5</span><span class="hl-1">; </span><span class="hl-3">// example value</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">isNonZero</span><span class="hl-1">(</span><span class="hl-7">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-3">// value is guaranteed to be non-zero</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">result</span><span class="hl-1"> = </span><span class="hl-7">Num</span><span class="hl-1">.</span><span class="hl-0">div</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">, </span><span class="hl-7">value</span><span class="hl-1">); </span><span class="hl-3">// Safe division</span><br/><br/><span class="hl-1">    </span><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">result</span><span class="hl-1"> === </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="branded-number-types-for-enhanced-type-safety" class="tsd-anchor-link">Branded Number Types for Enhanced Type Safety<a href="#branded-number-types-for-enhanced-type-safety" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p><code>ts-data-forge</code> provides branded number types that enforce specific constraints at the type level.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">asFiniteNumber</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asInt</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asInt16</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asNonZeroInt</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asPositiveInt</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asSafeInt</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asUint</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">asUint32</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">Int16</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">NonZeroInt</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Basic branded types</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">integer</span><span class="hl-1"> = </span><span class="hl-0">asInt</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">); </span><span class="hl-3">// Int - any integer</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">unsigned</span><span class="hl-1"> = </span><span class="hl-0">asUint</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">); </span><span class="hl-3">// Uint - non-negative integer</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">finite</span><span class="hl-1"> = </span><span class="hl-0">asFiniteNumber</span><span class="hl-1">(</span><span class="hl-10">3.14</span><span class="hl-1">); </span><span class="hl-3">// FiniteNumber - finite floating-point</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">safeInt</span><span class="hl-1"> = </span><span class="hl-0">asSafeInt</span><span class="hl-1">(</span><span class="hl-10">42</span><span class="hl-1">); </span><span class="hl-3">// SafeInt - integer in safe range</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">integer</span><span class="hl-1"> === </span><span class="hl-10">42</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">unsigned</span><span class="hl-1"> === </span><span class="hl-10">42</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">finite</span><span class="hl-1"> === </span><span class="hl-10">3.14</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">safeInt</span><span class="hl-1"> === </span><span class="hl-10">42</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// This line would cause a runtime error:</span><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">throw</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">asInt</span><span class="hl-1">(</span><span class="hl-10">3.14</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Range-constrained types (16-bit, 32-bit)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">int16</span><span class="hl-1"> = </span><span class="hl-0">asInt16</span><span class="hl-1">(</span><span class="hl-10">1000</span><span class="hl-1">); </span><span class="hl-3">// Int16: [-32768, 32767]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">uint32</span><span class="hl-1"> = </span><span class="hl-0">asUint32</span><span class="hl-1">(</span><span class="hl-10">3_000_000_000</span><span class="hl-1">); </span><span class="hl-3">// Uint32: [0, 4294967295]</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">int16</span><span class="hl-1"> === </span><span class="hl-10">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">uint32</span><span class="hl-1"> === </span><span class="hl-10">3_000_000_000</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Non-zero and positive variants</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">nonZeroInt</span><span class="hl-1"> = </span><span class="hl-0">asNonZeroInt</span><span class="hl-1">(</span><span class="hl-10">5</span><span class="hl-1">); </span><span class="hl-3">// NonZeroInt - excludes zero</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">positiveInt</span><span class="hl-1"> = </span><span class="hl-0">asPositiveInt</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">); </span><span class="hl-3">// PositiveInt - excludes zero and negatives</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">nonZeroInt</span><span class="hl-1"> === </span><span class="hl-10">5</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">positiveInt</span><span class="hl-1"> === </span><span class="hl-10">10</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Type-safe arithmetic with automatic clamping</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">sum</span><span class="hl-1"> = </span><span class="hl-7">Int16</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-7">int16</span><span class="hl-1">, </span><span class="hl-0">asInt16</span><span class="hl-1">(</span><span class="hl-10">2000</span><span class="hl-1">)); </span><span class="hl-3">// Int16 (3000)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">clamped</span><span class="hl-1"> = </span><span class="hl-7">Int16</span><span class="hl-1">.</span><span class="hl-0">clamp</span><span class="hl-1">(</span><span class="hl-10">100_000</span><span class="hl-1">); </span><span class="hl-3">// Int16 (32767 - clamped to MAX_VALUE)</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">sum</span><span class="hl-1"> === </span><span class="hl-10">3000</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">clamped</span><span class="hl-1"> === </span><span class="hl-10">32_767</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Safe division with non-zero types</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">ratio</span><span class="hl-1"> = </span><span class="hl-7">NonZeroInt</span><span class="hl-1">.</span><span class="hl-0">div</span><span class="hl-1">(</span><span class="hl-0">asNonZeroInt</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">), </span><span class="hl-7">nonZeroInt</span><span class="hl-1">); </span><span class="hl-3">// No division by zero risk</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">ratio</span><span class="hl-1"> === </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Random generation within type constraints</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">randomInt16</span><span class="hl-1"> = </span><span class="hl-7">Int16</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">(); </span><span class="hl-3">// Int16 (random value in valid range)</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(-</span><span class="hl-10">32_768</span><span class="hl-1"> &lt;= </span><span class="hl-7">randomInt16</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">randomInt16</span><span class="hl-1"> &lt;= </span><span class="hl-10">32_767</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-array-utilities-with" class="tsd-anchor-link">4. Array Utilities with <code>Arr</code><a href="#4-array-utilities-with" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>Arr</code> object provides a rich set of functions for array manipulation.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Arr</span><span class="hl-1">, </span><span class="hl-7">expectType</span><span class="hl-1">, </span><span class="hl-7">Optional</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">numbers</span><span class="hl-1">: </span><span class="hl-5">readonly</span><span class="hl-1"> </span><span class="hl-8">number</span><span class="hl-1">[] = [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">, </span><span class="hl-10">5</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">];</span><br/><br/><span class="hl-3">// Reduction</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">sum</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">sum</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">sum</span><span class="hl-1"> === </span><span class="hl-10">20</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Type-safe length checking</span><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">isArrayAtLeastLength</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-3">// numbers is now guaranteed to have at least 2 elements</span><br/><span class="hl-1">    </span><span class="hl-0">expectType</span><span class="hl-1">&lt;</span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-7">numbers</span><span class="hl-1">, </span><span class="hl-5">readonly</span><span class="hl-1"> [</span><span class="hl-8">number</span><span class="hl-1">, </span><span class="hl-8">number</span><span class="hl-1">, ...</span><span class="hl-8">number</span><span class="hl-1">[]]&gt;(</span><span class="hl-2">&#39;=&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">[</span><span class="hl-10">1</span><span class="hl-1">] === </span><span class="hl-10">2</span><span class="hl-1">); </span><span class="hl-3">// Safe access to index 1</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Take first n elements</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">firstThree</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">take</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">firstThree</span><span class="hl-1">, [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Remove duplicates</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">unique</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">uniq</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">unique</span><span class="hl-1">, [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">, </span><span class="hl-10">5</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Array creation</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">zeros</span><span class="hl-1">: </span><span class="hl-5">readonly</span><span class="hl-1"> [</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">] = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">zeros</span><span class="hl-1">(</span><span class="hl-10">5</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">zeros</span><span class="hl-1">, [</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">]);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">range</span><span class="hl-1">: </span><span class="hl-5">readonly</span><span class="hl-1"> [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">] = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">range</span><span class="hl-1">, [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">]);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">people</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1">, </span><span class="hl-7">age:</span><span class="hl-1"> </span><span class="hl-10">30</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Bob&#39;</span><span class="hl-1">, </span><span class="hl-7">age:</span><span class="hl-1"> </span><span class="hl-10">25</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Charlie&#39;</span><span class="hl-1">, </span><span class="hl-7">age:</span><span class="hl-1"> </span><span class="hl-10">35</span><span class="hl-1"> },</span><br/><span class="hl-1">] </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Find maximum by property</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">oldestPerson</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">maxBy</span><span class="hl-1">(</span><span class="hl-7">people</span><span class="hl-1">, (</span><span class="hl-7">person</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">person</span><span class="hl-1">.</span><span class="hl-7">age</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-7">oldestPerson</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Charlie&#39;</span><span class="hl-1">, </span><span class="hl-7">age:</span><span class="hl-1"> </span><span class="hl-10">35</span><span class="hl-1"> } </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1">),</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">isSome</span><span class="hl-1">(</span><span class="hl-7">oldestPerson</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">oldestPerson</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1"> === </span><span class="hl-2">&#39;Charlie&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-immutable-collections-and" class="tsd-anchor-link">5. Immutable Collections: <code>IMap</code> and <code>ISet</code><a href="#5-immutable-collections-and" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Type-safe, immutable data structures.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Arr</span><span class="hl-1">, </span><span class="hl-7">IMap</span><span class="hl-1">, </span><span class="hl-7">ISet</span><span class="hl-1">, </span><span class="hl-7">Optional</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// IMap usage - immutable operations</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">originalMap</span><span class="hl-1"> = </span><span class="hl-7">IMap</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-8">number</span><span class="hl-1">&gt;([]);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mapWithOne</span><span class="hl-1"> = </span><span class="hl-7">originalMap</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;one&#39;</span><span class="hl-1">, </span><span class="hl-10">1</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mapWithTwo</span><span class="hl-1"> = </span><span class="hl-7">mapWithOne</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;two&#39;</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Original map is unchanged</span><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">originalMap</span><span class="hl-1">.</span><span class="hl-7">size</span><span class="hl-1"> === </span><span class="hl-10">0</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">mapWithTwo</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;one&#39;</span><span class="hl-1">), </span><span class="hl-7">Optional</span><span class="hl-1">.</span><span class="hl-0">some</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">));</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isFalse</span><span class="hl-1">(</span><span class="hl-7">mapWithTwo</span><span class="hl-1">.</span><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-2">&#39;three&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-3">// Using pipe for fluent updates</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">sequence</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">seq</span><span class="hl-1">(</span><span class="hl-10">10</span><span class="hl-1">); </span><span class="hl-3">// [0, 1, 2, ..., 9]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">pairs</span><span class="hl-1"> = </span><span class="hl-7">sequence</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><br/><span class="hl-1">    (</span><span class="hl-7">i</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> [</span><span class="hl-7">i</span><span class="hl-1">, </span><span class="hl-7">i</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">()] </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">readonly</span><span class="hl-1"> [</span><span class="hl-8">number</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">],</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">skipped</span><span class="hl-1"> = </span><span class="hl-7">Arr</span><span class="hl-1">.</span><span class="hl-0">skip</span><span class="hl-1">(</span><span class="hl-7">pairs</span><span class="hl-1">, </span><span class="hl-10">1</span><span class="hl-1">); </span><span class="hl-3">// [[1, &quot;1&quot;], ..., [9, &quot;9&quot;]]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">idMap</span><span class="hl-1"> = </span><span class="hl-7">IMap</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">&gt;(</span><span class="hl-7">skipped</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">idMap</span><span class="hl-1">.</span><span class="hl-7">size</span><span class="hl-1"> === </span><span class="hl-10">9</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Efficient batch updates with withMutations</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">idMapUpdated</span><span class="hl-1"> = </span><span class="hl-7">idMap</span><span class="hl-1">.</span><span class="hl-0">withMutations</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;set&#39;</span><span class="hl-1">, </span><span class="hl-7">key:</span><span class="hl-1"> </span><span class="hl-10">99</span><span class="hl-1">, </span><span class="hl-7">value:</span><span class="hl-1"> </span><span class="hl-2">&#39;99&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;update&#39;</span><span class="hl-1">, </span><span class="hl-7">key:</span><span class="hl-1"> </span><span class="hl-10">5</span><span class="hl-1">, </span><span class="hl-0">updater</span><span class="hl-7">:</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-2">&#39;five&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-7">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;delete&#39;</span><span class="hl-1">, </span><span class="hl-7">key:</span><span class="hl-1"> </span><span class="hl-10">4</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">idMapUpdated</span><span class="hl-1">.</span><span class="hl-7">size</span><span class="hl-1"> === </span><span class="hl-10">9</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// ISet usage</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">originalSet</span><span class="hl-1"> = </span><span class="hl-7">ISet</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">&lt;</span><span class="hl-8">number</span><span class="hl-1">&gt;([]);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">setWithItems</span><span class="hl-1"> = </span><span class="hl-7">originalSet</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">).</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-10">2</span><span class="hl-1">).</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">); </span><span class="hl-3">// Duplicate ignored</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">originalSet</span><span class="hl-1">.</span><span class="hl-7">size</span><span class="hl-1"> === </span><span class="hl-10">0</span><span class="hl-1">); </span><span class="hl-3">// (unchanged)</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">setWithItems</span><span class="hl-1">.</span><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">));</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-7">setWithItems</span><span class="hl-1">.</span><span class="hl-7">size</span><span class="hl-1"> === </span><span class="hl-10">2</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="6-type-guards" class="tsd-anchor-link">6. Type Guards<a href="#6-type-guards" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Safe type narrowing with comprehensive type guards.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">hasKey</span><span class="hl-1">, </span><span class="hl-7">isNonNullObject</span><span class="hl-1">, </span><span class="hl-7">isRecord</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">processData</span><span class="hl-1"> = (</span><span class="hl-7">data</span><span class="hl-1">: </span><span class="hl-8">unknown</span><span class="hl-1">): </span><span class="hl-8">string</span><span class="hl-1"> | </span><span class="hl-8">undefined</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">if</span><span class="hl-1"> (</span><br/><span class="hl-1">        </span><span class="hl-0">isRecord</span><span class="hl-1">(</span><span class="hl-7">data</span><span class="hl-1">) &amp;&amp; </span><span class="hl-3">// data is now UnknownRecord (= Readonly&lt;Record&lt;string, unknown&gt;&gt;)</span><br/><span class="hl-1">        </span><span class="hl-0">hasKey</span><span class="hl-1">(</span><span class="hl-7">data</span><span class="hl-1">, </span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">) &amp;&amp;</span><br/><span class="hl-1">        </span><span class="hl-3">// data is now ReadonlyRecord&lt;&quot;name&quot;, unknown&gt; &amp; UnknownRecord</span><br/><span class="hl-1">        </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-7">data</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1"> === </span><span class="hl-2">&#39;string&#39;</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-2">`Hello, </span><span class="hl-5">${</span><span class="hl-7">data</span><span class="hl-11">.</span><span class="hl-7">name</span><span class="hl-5">}</span><span class="hl-2">!`</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">return</span><span class="hl-1"> </span><span class="hl-5">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">// Non-null object checking</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">value</span><span class="hl-1">: </span><span class="hl-8">unknown</span><span class="hl-1"> = { </span><span class="hl-7">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> };</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-0">isNonNullObject</span><span class="hl-1">(</span><span class="hl-7">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-3">// value is guaranteed to be a non-null object</span><br/><span class="hl-1">    </span><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-7">value</span><span class="hl-1">), [</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Example usage</span><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">processData</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1"> }) === </span><span class="hl-2">&#39;Hello, Alice!&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">processData</span><span class="hl-1">({ </span><span class="hl-7">age:</span><span class="hl-1"> </span><span class="hl-10">30</span><span class="hl-1"> }) === </span><span class="hl-5">undefined</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">isTrue</span><span class="hl-1">(</span><span class="hl-0">processData</span><span class="hl-1">(</span><span class="hl-2">&#39;not an object&#39;</span><span class="hl-1">) === </span><span class="hl-5">undefined</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="7-iteration-with" class="tsd-anchor-link">7. Iteration with <code>range</code><a href="#7-iteration-with" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Generate ranges for iteration and array creation.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">range</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Traditional for loop using range</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mut_values</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-6">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">i</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">5</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">mut_values</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-7">i</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">mut_values</span><span class="hl-1">, [</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Create arrays from ranges</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">numbers</span><span class="hl-1"> = </span><span class="hl-7">Array</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">));</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">squares</span><span class="hl-1"> = </span><span class="hl-7">Array</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">6</span><span class="hl-1">), (</span><span class="hl-7">x</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">x</span><span class="hl-1"> ** </span><span class="hl-10">2</span><span class="hl-1">);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">numbers</span><span class="hl-1">, [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">3</span><span class="hl-1">]);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">squares</span><span class="hl-1">, [</span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">, </span><span class="hl-10">9</span><span class="hl-1">, </span><span class="hl-10">16</span><span class="hl-1">, </span><span class="hl-10">25</span><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Step ranges</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mut_stepValues</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-6">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">i</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">10</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">mut_stepValues</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-7">i</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">mut_stepValues</span><span class="hl-1">, [</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-10">4</span><span class="hl-1">, </span><span class="hl-10">6</span><span class="hl-1">, </span><span class="hl-10">8</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<h3 id="8-mutability-utilities-with" class="tsd-anchor-link">8. Mutability Utilities with <code>castMutable</code><a href="#8-mutability-utilities-with" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Safely work with readonly types when interfacing with mutable APIs.</p>
<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">Autocomplete</span><span class="hl-1">, </span><span class="hl-7">TextField</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@mui/material&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-6">type</span><span class="hl-1"> </span><span class="hl-5">*</span><span class="hl-1"> </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-7">React</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;react&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">castMutable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Example: Material-UI Autocomplete</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">SomeComponent</span><span class="hl-1">: </span><span class="hl-8">React</span><span class="hl-1">.</span><span class="hl-8">FC</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-12">&lt;</span><span class="hl-8">Autocomplete</span><br/><span class="hl-1">        </span><span class="hl-13">options</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-0">castMutable</span><span class="hl-11">(</span><span class="hl-7">readonlyOptions</span><span class="hl-11">)</span><span class="hl-5">}</span><br/><span class="hl-1">        </span><span class="hl-13">renderInput</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-11">({</span><br/><span class="hl-11">            </span><span class="hl-7">InputLabelProps</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">InputProps</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">disabled</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">fullWidth</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">id</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">inputProps</span><span class="hl-11">,</span><br/><span class="hl-11">            </span><span class="hl-7">size</span><span class="hl-11">,</span><br/><span class="hl-11">        }) </span><span class="hl-5">=&gt;</span><span class="hl-11"> (</span><br/><span class="hl-11">            </span><span class="hl-12">&lt;</span><span class="hl-8">TextField</span><br/><span class="hl-11">                </span><span class="hl-13">slotProps</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-11">{</span><br/><span class="hl-11">                    </span><span class="hl-7">inputLabel:</span><span class="hl-11"> </span><span class="hl-7">InputLabelProps</span><span class="hl-11">,</span><br/><span class="hl-11">                    </span><span class="hl-7">input:</span><span class="hl-11"> </span><span class="hl-7">InputProps</span><span class="hl-11">,</span><br/><span class="hl-11">                    </span><span class="hl-7">htmlInput:</span><span class="hl-11"> </span><span class="hl-7">inputProps</span><span class="hl-11">,</span><br/><span class="hl-11">                }</span><span class="hl-5">}</span><br/><span class="hl-11">                </span><span class="hl-13">disabled</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-7">disabled</span><span class="hl-5">}</span><br/><span class="hl-11">                </span><span class="hl-13">fullWidth</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-7">fullWidth</span><span class="hl-5">}</span><br/><span class="hl-11">                </span><span class="hl-13">id</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-7">id</span><span class="hl-5">}</span><br/><span class="hl-11">                </span><span class="hl-13">size</span><span class="hl-1">=</span><span class="hl-5">{</span><span class="hl-7">size</span><span class="hl-5">}</span><br/><span class="hl-11">                </span><span class="hl-13">placeholder</span><span class="hl-1">=</span><span class="hl-2">&quot;Select an option&quot;</span><br/><span class="hl-11">            </span><span class="hl-12">/&gt;</span><br/><span class="hl-11">        )</span><span class="hl-5">}</span><br/><span class="hl-1">    </span><span class="hl-12">/&gt;</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">readonlyOptions</span><span class="hl-1"> = [</span><span class="hl-2">&#39;Option 1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Option 2&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Option 3&#39;</span><span class="hl-1">] </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="tsx"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">produce</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;immer&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">castMutable</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-data-forge&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Example: Immer produce function</span><br/><br/><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">State</span><span class="hl-1"> = </span><span class="hl-8">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-7">items</span><span class="hl-1">: </span><span class="hl-5">readonly</span><span class="hl-1"> </span><span class="hl-8">string</span><span class="hl-1">[];</span><br/><span class="hl-1">}&gt;;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">initialState</span><span class="hl-1">: </span><span class="hl-8">State</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-7">items:</span><span class="hl-1"> [</span><span class="hl-2">&#39;item1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item2&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">} </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">newItems</span><span class="hl-1"> = [</span><span class="hl-2">&#39;newItem1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;newItem2&#39;</span><span class="hl-1">] </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">updatedState</span><span class="hl-1"> = </span><span class="hl-0">produce</span><span class="hl-1">(</span><span class="hl-7">initialState</span><span class="hl-1">, (</span><span class="hl-7">draft</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// draft.items expects mutable array, but newItems is readonly</span><br/><span class="hl-1">    </span><span class="hl-7">draft</span><span class="hl-1">.</span><span class="hl-7">items</span><span class="hl-1"> = </span><span class="hl-0">castMutable</span><span class="hl-1">(</span><span class="hl-7">newItems</span><span class="hl-1">); </span><span class="hl-3">// Safe cast for assignment</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">initialState</span><span class="hl-1">.</span><span class="hl-7">items</span><span class="hl-1">, [</span><span class="hl-2">&#39;item1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item2&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-7">assert</span><span class="hl-1">.</span><span class="hl-0">deepStrictEqual</span><span class="hl-1">(</span><span class="hl-7">updatedState</span><span class="hl-1">.</span><span class="hl-7">items</span><span class="hl-1">, [</span><span class="hl-2">&#39;newItem1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;newItem2&#39;</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Note</strong>: While <a href="https://immerjs.github.io/immer/">immer</a> provides <code>castDraft</code> with similar usage, it recursively converts types to mutable, resulting in a more complex (fat) type implementation. When you only need shallow mutability conversion, using <code>castMutable</code> can potentially reduce type-checking computation overhead.</p>
<h2 id="modules-overview" class="tsd-anchor-link">Modules Overview<a href="#modules-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><strong><code>expect-type</code></strong>: Compile-time type assertion utilities for testing and verification.</li>
<li><strong><code>guard</code></strong>: Type guard functions for safe type narrowing (e.g., <code>isNonNullObject</code>, <code>isRecord</code>).</li>
<li><strong><code>functional</code></strong>: Functional programming helpers like <code>Optional</code>, <code>Result</code>, <code>pipe</code>, and <code>match</code>.</li>
<li><strong><code>number</code></strong>: Comprehensive numerical utilities including the <code>Num</code> namespace and an extensive collection of branded number types (<code>Int</code>, <code>Uint</code>, <code>SafeInt</code>, <code>Int16</code>, <code>Int32</code>, <code>Uint16</code>, <code>Uint32</code>, <code>NonZeroInt</code>, <code>PositiveInt</code>, <code>NonNegativeFiniteNumber</code>, etc.) with type-safe arithmetic operations, range checking, and automatic clamping.</li>
<li><strong><code>array</code></strong>: Utilities for working with arrays and tuples, including creation, transformation, and type-safe operations.</li>
<li><strong><code>object</code></strong>: Utilities for working with records/objects (e.g., <code>Obj.shallowEq</code>).</li>
<li><strong><code>json</code></strong>: Type-safe JSON parsing and stringification utilities.</li>
<li><strong><code>collections</code></strong>: Immutable data structures like <code>IMap</code>, <code>ISet</code>, and <code>Queue</code> with full type safety.</li>
<li><strong><code>iterator</code></strong>: Utilities for working with iterators and generators (e.g., <code>range</code>).</li>
<li><strong><code>others</code></strong>: Miscellaneous utilities like <code>castMutable</code>, <code>castReadonly</code>, <code>ifThen</code>, <code>mapNullable</code>, <code>memoizeFunction</code>, <code>tuple</code>, <code>unknownToString</code>.</li>
</ul>
<h2 id="key-benefits" class="tsd-anchor-link">Key Benefits<a href="#key-benefits" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><strong>Type Safety</strong>: All utilities are designed with TypeScript's type system in mind, providing compile-time guarantees.</li>
<li><strong>Immutability</strong>: Data structures and operations promote immutable patterns for safer, more predictable code.</li>
<li><strong>Functional Programming</strong>: Support for functional programming paradigms with utilities like <code>Optional</code>, <code>Result</code>, and <code>pipe</code>.</li>
<li><strong>Zero Runtime Dependencies</strong>: The library has no external runtime dependencies except for <a href="https://github.com/sindresorhus/is">@sindresorhus/is</a>, keeping your bundle size minimal.</li>
<li><strong>Comprehensive Testing</strong>: All utilities are thoroughly tested with both runtime and compile-time tests.</li>
</ul>
<p><strong>Important Notes:</strong></p>
<ul>
<li>This library <strong>only supports ESM (ES Modules)</strong> and is designed for native ESM environments. CommonJS is not supported.</li>
<li>The library uses <code>.mts</code> file extensions and proper ESM exports, making it compatible with modern Node.js ESM resolution and bundlers that support native ESM.</li>
<li>This library uses advanced TypeScript features, including branded types for enhanced type safety. Some functions require specific branded types as parameters (such as <code>Uint32</code> in <code>newArray</code>). The examples above use the small literal numeric values specifically allowed in each function for brevity, but in actual use you should use the provided type conversion functions (such as <code>asUint32</code>) or cast to the appropriate branded type, for example <code>as Uint32</code>.</li>
</ul>
<h2 id="removing-in-production" class="tsd-anchor-link">Removing <code>expectType</code> in Production<a href="#removing-in-production" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Since <code>expectType</code> is only used for compile-time type checking, you should remove these calls in production builds for better performance.</p>
<h3 id="rollup-configuration" class="tsd-anchor-link">Rollup Configuration<a href="#rollup-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> </span><span class="hl-7">rollupPluginStrip</span><span class="hl-1"> </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@rollup/plugin-strip&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// ... other config</span><br/><span class="hl-1">    </span><span class="hl-7">plugins:</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">// ... other plugins</span><br/><span class="hl-1">        </span><span class="hl-0">rollupPluginStrip</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">functions:</span><span class="hl-1"> [</span><span class="hl-2">&#39;expectType&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">            </span><span class="hl-7">include:</span><span class="hl-1"> </span><span class="hl-2">&#39;**/*.(mts|ts|mjs|js)&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }),</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="vite-configuration" class="tsd-anchor-link">Vite Configuration<a href="#vite-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="javascript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">defineConfig</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;vite&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-6">default</span><span class="hl-1"> </span><span class="hl-0">defineConfig</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">// ... other config</span><br/><span class="hl-1">    </span><span class="hl-7">build:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">terserOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">compress:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">pure_funcs:</span><span class="hl-1"> [</span><span class="hl-2">&#39;expectType&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Contributions are welcome! Please see <a href="media/CONTRIBUTING.md">CONTRIBUTING.md</a> for detailed guidelines on how to contribute to this project.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This project is licensed under the <a href="media/LICENSE">Apache License 2.0</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#ts-data-forge"><span>ts-<wbr/>data-<wbr/>forge</span></a><ul><li><a href="#perfect-companion-to-ts-type-forge"><span>Perfect <wbr/>Companion to ts-<wbr/>type-<wbr/>forge</span></a></li><li><a href="#features"><span>Features</span></a></li><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#typescript-configuration"><span>Type<wbr/>Script <wbr/>Configuration</span></a></li><li><a href="#core-modules"><span>Core <wbr/>Modules</span></a></li><li><ul><li><a href="#üéØ-functional-programming"><span>üéØ <wbr/>Functional <wbr/>Programming</span></a></li><li><a href="#üõ°Ô∏è-type-guards"><span>üõ°Ô∏è <wbr/>Type <wbr/>Guards</span></a></li><li><a href="#üî¢-number-utilities"><span>üî¢ <wbr/>Number <wbr/>Utilities</span></a></li><li><a href="#üîß-array-operations"><span>üîß <wbr/>Array <wbr/>Operations</span></a></li><li><a href="#üì¶-collections"><span>üì¶ <wbr/>Collections</span></a></li><li><a href="#üîç-other-utilities"><span>üîç <wbr/>Other <wbr/>Utilities</span></a></li></ul></li><li><a href="#usage-examples"><span>Usage <wbr/>Examples</span></a></li><li><ul><li><a href="#1-compile-time-type-assertions-with"><span>1. <wbr/>Compile-<wbr/>Time <wbr/>Type <wbr/>Assertions with </span></a></li><li><a href="#2-functional-programming-with-and"><span>2. <wbr/>Functional <wbr/>Programming with , , , and </span></a></li><li><a href="#3-number-utilities-with-and-branded-number-types"><span>3. <wbr/>Number <wbr/>Utilities with  and <wbr/>Branded <wbr/>Number <wbr/>Types</span></a></li><li><ul><li><a href="#branded-number-types-for-enhanced-type-safety"><span>Branded <wbr/>Number <wbr/>Types for <wbr/>Enhanced <wbr/>Type <wbr/>Safety</span></a></li></ul></li><li><a href="#4-array-utilities-with"><span>4. <wbr/>Array <wbr/>Utilities with </span></a></li><li><a href="#5-immutable-collections-and"><span>5. <wbr/>Immutable <wbr/>Collections:  and </span></a></li><li><a href="#6-type-guards"><span>6. <wbr/>Type <wbr/>Guards</span></a></li><li><a href="#7-iteration-with"><span>7. <wbr/>Iteration with </span></a></li><li><a href="#8-mutability-utilities-with"><span>8. <wbr/>Mutability <wbr/>Utilities with </span></a></li></ul></li><li><a href="#modules-overview"><span>Modules <wbr/>Overview</span></a></li><li><a href="#key-benefits"><span>Key <wbr/>Benefits</span></a></li><li><a href="#removing-in-production"><span>Removing  in <wbr/>Production</span></a></li><li><ul><li><a href="#rollup-configuration"><span>Rollup <wbr/>Configuration</span></a></li><li><a href="#vite-configuration"><span>Vite <wbr/>Configuration</span></a></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">ts-data-forge</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with <a href="https://github.com/JulianWowra/typedoc-github-theme" target="_blank">typedoc-github-theme</a></p></footer><div class="overlay"></div></body></html>
